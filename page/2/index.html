<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="javascript,css,vue,angularjs" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="github主页">
<meta property="og:type" content="website">
<meta property="og:title" content="孙振的博客">
<meta property="og:url" content="https://sunzhen086.github.io/page/2/index.html">
<meta property="og:site_name" content="孙振的博客">
<meta property="og:description" content="github主页">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="孙振的博客">
<meta name="twitter:description" content="github主页">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sunzhen086.github.io/page/2/"/>





  <title> 孙振的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">孙振的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Record my life , my study , my think</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            时间线
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/兼容绑定事件的3种方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/兼容绑定事件的3种方法/" itemprop="url">
                  兼容绑定事件的3种方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-12T16:27:00+08:00">
                2017-04-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="直接绑定-不利于UI和代码分离-event详见后面）"><a href="#直接绑定-不利于UI和代码分离-event详见后面）" class="headerlink" title="直接绑定(不利于UI和代码分离,event详见后面）"></a>直接绑定(不利于UI和代码分离,event详见后面）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"doEventThing(event)"</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="DOM事件句柄"><a href="#DOM事件句柄" class="headerlink" title="DOM事件句柄"></a>DOM事件句柄</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"divid"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div></pre></td></tr></table></figure>
<h3 id="侦听函数"><a href="#侦听函数" class="headerlink" title="侦听函数"></a>侦听函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> tb = <span class="built_in">document</span>.getelementbyid(<span class="string">"tab1"</span>);   </div><div class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.event==<span class="literal">null</span>)&#123;<span class="comment">// 只有ie下，event是window的对象属性，注意两个侦听函数的区别.该方法只能在没定义event才行  </span></div><div class="line">  td.attachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="string">'21'</span>);&#125;);   </div><div class="line">  td.attachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="string">'21'</span>);&#125;)  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">else</span> &#123; <span class="comment">// mozilla, netscape, firefox，w3c  </span></div><div class="line">  td.addEventListener(<span class="string">'click'</span>, alert(<span class="string">'11'</span>), <span class="literal">false</span>);   </div><div class="line">  td.addEventListener(<span class="string">'click'</span>, alert(<span class="string">'12'</span>), <span class="literal">false</span>);   </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/关于变量类型的判断/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/关于变量类型的判断/" itemprop="url">
                  关于变量类型的判断
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-12T15:31:54+08:00">
                2017-04-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在JavaScript中，有5种基本数据类型和1种复杂数据类型，基本数据类型有：Undefined, Null, Boolean, Number和String；复杂数据类型是Object，Object中还细分了很多具体的类型，比如：Array, Function, Date等等。今天我们就来探讨一下，使用什么方法判断一个出一个变量的类型。</p>
<p>在讲解各种方法之前，我们首先定义出几个测试变量，看看后面的方法究竟能把变量的类型解析成什么样子，以下几个变量差不多包含了我们在实际编码中常用的类型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num  = <span class="number">123</span>;</div><div class="line"><span class="keyword">var</span> str  = <span class="string">'abcdef'</span>;</div><div class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</div><div class="line"><span class="keyword">var</span> arr  = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"><span class="keyword">var</span> json = &#123;<span class="attr">name</span>:<span class="string">'wenzi'</span>, <span class="attr">age</span>:<span class="number">25</span>&#125;;</div><div class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'this is function'</span>); &#125;</div><div class="line"><span class="keyword">var</span> und  = <span class="literal">undefined</span>;</div><div class="line"><span class="keyword">var</span> nul  = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">var</span> reg  = <span class="regexp">/^[a-zA-Z]&#123;5,20&#125;$/</span>;</div><div class="line"><span class="keyword">var</span> error= <span class="keyword">new</span> <span class="built_in">Error</span>();</div></pre></td></tr></table></figure>
<h3 id="使用typeof检测"><a href="#使用typeof检测" class="headerlink" title="使用typeof检测"></a>使用typeof检测</h3><p>我们平时用的最多的就是用typeof检测变量类型了。这次，我们也使用typeof检测变量的类型：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">    <span class="keyword">typeof</span> num,</div><div class="line">    <span class="keyword">typeof</span> str,</div><div class="line">    <span class="keyword">typeof</span> bool,</div><div class="line">    <span class="keyword">typeof</span> arr,</div><div class="line">    <span class="keyword">typeof</span> json,</div><div class="line">    <span class="keyword">typeof</span> func,</div><div class="line">    <span class="keyword">typeof</span> und,</div><div class="line">    <span class="keyword">typeof</span> nul,</div><div class="line">    <span class="keyword">typeof</span> date,</div><div class="line">    <span class="keyword">typeof</span> reg,</div><div class="line">    <span class="keyword">typeof</span> error</div><div class="line">);</div><div class="line"><span class="comment">// number string boolean object object function undefined object object object object</span></div></pre></td></tr></table></figure>
<p>从输出的结果来看，arr, json, nul, date, reg, error 全部被检测为object类型，其他的变量能够被正确检测出来。当需要变量是否是number, string, boolean, function, undefined, json类型时，可以使用typeof进行判断。其他变量是判断不出类型的，包括null。</p>
<p>还有，typeof是区分不出array和json类型的。因为使用typeof这个变量时，array和json类型输出的都是object。</p>
<h3 id="使用instance检测"><a href="#使用instance检测" class="headerlink" title="使用instance检测"></a>使用instance检测</h3><p>在 JavaScript 中，判断一个变量的类型常常会用 typeof 运算符，在使用 typeof 运算符时采用引用类型存储值会出现一个问题，无论引用的是什么类型的对象，它都返回 “object”。ECMAScript 引入了另一个 Java 运算符 instanceof 来解决这个问题。instanceof 运算符与 typeof 运算符相似，用于识别正在处理的对象的类型。与 typeof 方法不同的是，instanceof 方法要求开发者明确地确认对象为某特定类型。例如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> Tom = <span class="keyword">new</span> Person();</div><div class="line"><span class="built_in">console</span>.log(Tom <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>我们再看看下面的例子：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line">Student.prototype = <span class="keyword">new</span> Person();</div><div class="line"><span class="keyword">var</span> John = <span class="keyword">new</span> Student();</div><div class="line"><span class="built_in">console</span>.log(John <span class="keyword">instanceof</span> Student); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(John instancdof Person);  <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>instanceof还能检测出多层继承的关系。</p>
<p>好了，我们来使用instanceof检测上面的那些变量：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">    num <span class="keyword">instanceof</span> <span class="built_in">Number</span>,</div><div class="line">    str <span class="keyword">instanceof</span> <span class="built_in">String</span>,</div><div class="line">    bool <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>,</div><div class="line">    arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>,</div><div class="line">    json <span class="keyword">instanceof</span> <span class="built_in">Object</span>,</div><div class="line">    func <span class="keyword">instanceof</span> <span class="built_in">Function</span>,</div><div class="line">    und <span class="keyword">instanceof</span> <span class="built_in">Object</span>,</div><div class="line">    nul <span class="keyword">instanceof</span> <span class="built_in">Object</span>,</div><div class="line">    date <span class="keyword">instanceof</span> <span class="built_in">Date</span>,</div><div class="line">    reg <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>,</div><div class="line">    error <span class="keyword">instanceof</span> <span class="built_in">Error</span></div><div class="line">)</div><div class="line"><span class="comment">// num : false</span></div><div class="line"><span class="comment">// str : false</span></div><div class="line"><span class="comment">// bool : false</span></div><div class="line"><span class="comment">// arr : true</span></div><div class="line"><span class="comment">// json : true</span></div><div class="line"><span class="comment">// func : true</span></div><div class="line"><span class="comment">// und : false</span></div><div class="line"><span class="comment">// nul : false</span></div><div class="line"><span class="comment">// date : true</span></div><div class="line"><span class="comment">// reg : true</span></div><div class="line"><span class="comment">// error : true</span></div></pre></td></tr></table></figure></p>
<p>从上面的运行结果我们可以看到，num, str和bool没有检测出他的类型，但是我们使用下面的方式创建num，是可以检测出类型的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>);</div><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'abcdef'</span>);</div><div class="line"><span class="keyword">var</span> boolean = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</div></pre></td></tr></table></figure></p>
<p>同时，我们也要看到，und和nul是检测的Object类型，才输出的true，因为js中没有Undefined和Null的这种全局类型，他们und和nul都属于Object类型，因此输出了true。</p>
<h3 id="使用constructor检测"><a href="#使用constructor检测" class="headerlink" title="使用constructor检测"></a>使用constructor检测</h3><p>在使用instanceof检测变量类型时，我们是检测不到number, ‘string’, bool的类型的。因此，我们需要换一种方式来解决这个问题。</p>
<p>constructor本来是原型对象上的属性，指向构造函数。但是根据实例对象寻找属性的顺序，若实例对象上没有实例属性或方法时，就去原型链上寻找，因此，实例对象也是能使用constructor属性的。</p>
<p>我们先来输出一下num.constructor的内容，即数字类型的变量的构造函数是什么样子的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Number</span>(<span class="params"></span>) </span>&#123; [native code] &#125;</div></pre></td></tr></table></figure></p>
<p>我们可以看到它指向了Number的构造函数，因此，我们可以使用num.constructor==Number来判断num是不是Number类型的，其他的变量也类似：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> Tom = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line"><span class="comment">// undefined和null没有constructor属性</span></div><div class="line"><span class="built_in">console</span>.log(</div><div class="line">    Tom.constructor==Person,</div><div class="line">    num.constructor==<span class="built_in">Number</span>,</div><div class="line">    str.constructor==<span class="built_in">String</span>,</div><div class="line">    bool.constructor==<span class="built_in">Boolean</span>,</div><div class="line">    arr.constructor==<span class="built_in">Array</span>,</div><div class="line">    json.constructor==<span class="built_in">Object</span>,</div><div class="line">    func.constructor==<span class="built_in">Function</span>,</div><div class="line">    date.constructor==<span class="built_in">Date</span>,</div><div class="line">    reg.constructor==<span class="built_in">RegExp</span>,</div><div class="line">    error.constructor==<span class="built_in">Error</span></div><div class="line">);</div><div class="line"><span class="comment">// 所有结果均为true</span></div></pre></td></tr></table></figure>
<p>从输出的结果我们可以看出，除了undefined和null，其他类型的变量均能使用constructor判断出类型。</p>
<p>不过使用constructor也不是保险的，因为constructor属性是可以被修改的，会导致检测出的结果不正确，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line">Student.prototype = <span class="keyword">new</span> Person();</div><div class="line"><span class="keyword">var</span> John = <span class="keyword">new</span> Student();</div><div class="line"><span class="built_in">console</span>.log(John.constructor==Student); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(John.constructor==Person);  <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>在上面的例子中，Student原型中的constructor被修改为指向到Person，导致检测不出实例对象John真实的构造函数。</p>
<p>同时，使用instaceof和construcor,被判断的array必须是在当前页面声明的！比如，一个页面（父页面）有一个框架，框架中引用了一个页面（子页面），在子页面中声明了一个array，并将其赋值给父页面的一个变量，这时判断该变量，Array == object.constructor;会返回false；<br>原因：<br>1、array属于引用型数据，在传递过程中，仅仅是引用地址的传递。<br>2、每个页面的Array原生对象所引用的地址是不一样的，在子页面声明的array，所对应的构造函数，是子页面的Array对象；父页面来进行判断，使用的Array并不等于子页面的Array；切记，不然很难跟踪问题！</p>
<h3 id="使用Object-prototype-toString-call"><a href="#使用Object-prototype-toString-call" class="headerlink" title="使用Object.prototype.toString.call"></a>使用Object.prototype.toString.call</h3><p>我们先不管这个是什么，先来看看他是怎么检测变量类型的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(num),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(str),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(bool),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(arr),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(json),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(func),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(und),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(nul),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(date),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(reg),</div><div class="line">    <span class="built_in">Object</span>.prototype.toString.call(error)</div><div class="line">);</div><div class="line"><span class="comment">// '[object Number]' '[object String]' '[object Boolean]' '[object Array]' '[object Object]'</span></div><div class="line"><span class="comment">// '[object Function]' '[object Undefined]' '[object Null]' '[object Date]' '[object RegExp]' '[object Error]'</span></div></pre></td></tr></table></figure></p>
<p>从输出的结果来看，Object.prototype.toString.call(变量)输出的是一个字符串，字符串里有一个数组，第一个参数是Object，第二个参数就是这个变量的类型，而且，所有变量的类型都检测出来了，我们只需要取出第二个参数即可。或者可以使用Object.prototype.toString.call(arr)==”object Array”来检测变量arr是不是数组。</p>
<h3 id="jquery中-type的实现"><a href="#jquery中-type的实现" class="headerlink" title="jquery中$.type的实现"></a>jquery中$.type的实现</h3><p>在jquery中提供了一个$.type的接口，来让我们检测变量的类型：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(</div><div class="line">    $.type(num),</div><div class="line">    $.type(str),</div><div class="line">    $.type(bool),</div><div class="line">    $.type(arr),</div><div class="line">    $.type(json),</div><div class="line">    $.type(func),</div><div class="line">    $.type(und),</div><div class="line">    $.type(nul),</div><div class="line">    $.type(date),</div><div class="line">    $.type(reg),</div><div class="line">    $.type(error)</div><div class="line">);</div><div class="line"><span class="comment">// number string boolean array object function undefined null date regexp error</span></div></pre></td></tr></table></figure></p>
<p>看到输出结果，有没有一种熟悉的感觉？对，他就是上面使用Object.prototype.toString.call(变量)输出的结果的第二个参数呀。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/常见的原生javascript DOM操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/常见的原生javascript DOM操作/" itemprop="url">
                  常见的原生javascript DOM操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T16:03:28+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="创建元素"><a href="#创建元素" class="headerlink" title="创建元素"></a>创建元素</h1><blockquote>
<p>创建元素：document.createElement()</p>
</blockquote>
<p>使用document.createElement()可以创建新元素。这个方法只接受一个参数，即要创建元素的标签名。这个标签名在HTML文档中不区分大小写，在XHTML中区分大小写。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div></pre></td></tr></table></figure></p>
<p>使用createElement()方法创建新元素的同时，也为新元素设置了ownerDocument属性，可以操作元素的特性。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">div.id = <span class="string">"myDiv"</span>;</div><div class="line">div.className = <span class="string">"div1"</span>;</div></pre></td></tr></table></figure></p>
<p>此时，新元素尚未被添加到文档树中，因此设置各种特性均不会影响浏览器的显示。要添加到文档树，可用appendChild()、insertBefore()、replaceChild()。（稍后讲到）<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.body.appendChild(div);</div></pre></td></tr></table></figure></p>
<p>当把元素添加到文档树中后，这个元素做的任何修改都会实时地反应到浏览器中。</p>
<p>在IE中可以为createElement()方法传入完整的元素标签和属性。(只在IE中兼容)<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"&lt;div id=\"mydiv\" class=\"div1\"&gt;&lt;/div&gt;"</span>);</div><div class="line"><span class="comment">//不能再标签里加其他元素节点或者文本节点，如下的方式和上面的得出的节点一样</span></div><div class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"&lt;div id=\"mydiv\" class=\"div1\"&gt;12212&lt;/div&gt;"</span>);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>创建文本节点 ：document.createTextNode</p>
</blockquote>
<p>使用document.createTextNode()来创建文本节点，这个方法接受一个参数：要插入节点的文本。与设置已有文本节点的值一样，作为参数的文本将按照HTML或XML的格式进行编码。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.createTextNode(<span class="string">"121212"</span>);</div></pre></td></tr></table></figure></p>
<p>可以添加多个文本节点。假如两个文本节点时相邻的同胞节点，那么两个文本节点会连起来，中间不会有空格。</p>
<h1 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h1><p>文本关系如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div4"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>父节点：parentNode</p>
</blockquote>
<p>parentNode是指定节点的父节点.一个元素节点的父节点可能是一个元素(Element )节点,也可能是一个文档(Document )节点,或者是个文档碎片(DocumentFragment)节点.<br>每一个节点都有一个parentNode属性。</p>
<p>对于下面的节点类型: Attr, Document, DocumentFragment, Entity, Notation,其parentNode属性返回null。如果当前节点刚刚被建立,还没有被插入到DOM树中,则该节点的parentNode属性也返回null。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> child2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line">    <span class="keyword">var</span> parent = child2.parentNode;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>子节点：childNodes</p>
</blockquote>
<p>childNodes 返回包含指定节点的子节点的集合，该集合为即时更新的集合（live collection）。<br>即时更新就是对节点元素的任意修改都会立即反映到结果里。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> child2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line">    <span class="keyword">var</span> parent = child2.parentNode;</div><div class="line">    <span class="keyword">var</span> allChilds = parent.childNodes;</div><div class="line">    <span class="comment">/**</span></div><div class="line">      在IE6下才会返回3</div><div class="line">      在其他浏览器中会返回3个div节点+3个div节点的文本节点+1个自己的文本节点=7</div><div class="line">      下同</div><div class="line">    **/</div><div class="line">    <span class="built_in">console</span>.log(allChilds.length) <span class="comment">// IE下是3，其他浏览器是7</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">var</span> nodeAdd = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">    <span class="keyword">var</span> textAdd = <span class="built_in">document</span>.createTextNode(<span class="string">"这是添加的文本节点"</span>);</div><div class="line">    nodeAdd.appendChild(textAdd);</div><div class="line">    parent.appendChild(nodeAdd);</div><div class="line">    <span class="built_in">console</span>.log(allChilds.length);<span class="comment">// IE下是4，其他浏览器是8</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>兄弟节点：nextSibling，previousSibling</p>
</blockquote>
<p>nextSibling返回某节点的下一个兄弟节点，previousSibling返回某节点的上一个兄弟节点，没有的话返回null。<br>注意：可能因为元素换行的原因返回的是text节点。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</div><div class="line">    <span class="keyword">var</span> child3 = <span class="built_in">document</span>.getElementById(<span class="string">"div3"</span>);</div><div class="line">    <span class="keyword">var</span> next = child3.nextSibling;</div><div class="line">    <span class="keyword">var</span> previous = child3.previousSibling;</div><div class="line">    <span class="built_in">console</span>.log(next); <span class="comment">// IE下返回div4，其他返回text</span></div><div class="line">    <span class="built_in">console</span>.log(previous)  <span class="comment">// IE下返回div2，其他返回text</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>第一个或最后一个子节点：firstChild、lastChild</p>
</blockquote>
<p>firstChild返回node的子节点中的第一个节点的引用，没有返回null<br>lastChild返回node的子节点中的最后一个节点的引用，没有返回null<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> child3 = <span class="built_in">document</span>.getElementById(<span class="string">"div3"</span>);</div><div class="line">    <span class="keyword">var</span> parent = child3.parentNode;</div><div class="line">    <span class="keyword">var</span> first = parent.firstChild; <span class="comment">// IE是div2，其他是text</span></div><div class="line">    <span class="keyword">var</span> last = parent.lastChild; <span class="comment">// IE是div4，其他是text</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="节点元素关系"><a href="#节点元素关系" class="headerlink" title="节点元素关系"></a>节点元素关系</h1><p>只算元素，不算文本节点。</p>
<p>以下三个方法用法和节点关系完全一样，只是这三个方法只看元素节点，不管因为空格、换行造成的文本节点或者手动加上去的文本节点。<br>children： 返回所有元素子节点（IE5+、ff3.5、opera3、chrome，但在IE8及以下会将注释节点看成一个元素节点）</p>
<p>以下两个IE9+才支持<br>nextElementSibling：返回元素的下一个兄弟元素节点<br>previousElementSibling: 返回元素的上一个兄弟元素节点</p>
<h1 id="节点元素关系-1"><a href="#节点元素关系-1" class="headerlink" title="节点元素关系"></a>节点元素关系</h1><blockquote>
<p>appendChild()</p>
</blockquote>
<p>appendChild()用于向childNodes列表的末尾添加一个节点，并且返回这个新增的节点。<br>如果传入到appendChild()里的节点已经是文档的一部分了，那结果就是将节点从原来的位置转移到新位置，任何一个节点不能同时出现在文档中的多个位置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> returnNode = someNode.appendChild(someNode.firstChild); <span class="comment">// 返回第一个节点</span></div><div class="line"><span class="built_in">console</span>.log(returnNode === someNode.firstChild); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(returnNode === someNode.lastChild); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<blockquote>
<p>insetBefore()</p>
</blockquote>
<p>insetBefore()可以将节点插入到某个特定的位置。这个方法接受两个参数：要插入的节点和作为参照的节点。<br>插入节点后，被插入的节点变成参照节点的前一个同胞节点，同时被方法返回。 如果参照节点是null，则与appendChild()执行相同的操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 插入后成为最后一个子节点</span></div><div class="line"><span class="keyword">var</span> returnNode = someNode.insetBefore(newNode, <span class="literal">null</span>);</div><div class="line"><span class="built_in">console</span>.log(returnNode === someNode.lastChild); <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 插入后成为第一个子节点</span></div><div class="line"><span class="keyword">var</span> returnNode = someNode.insetBefore(newNode, someNode.firstChild);</div><div class="line"><span class="built_in">console</span>.log(returnNode === newNode); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(returnNode === someNode.firstChild); <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 插入到最后一个子节点的前面</span></div><div class="line"><span class="keyword">var</span> returnNode = someNode.insetBefore(newNode, someNode.lastChild);</div><div class="line"><span class="built_in">console</span>.log(returnNode === someNode.childNodes[someNode.childnodes.length - <span class="number">2</span>]) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<blockquote>
<p>替换节点： replaceChild()</p>
</blockquote>
<p>replaceChild()接受两个参数：要插入的节点和要被替换的节点。被替换的节点将由这个方法返回并从文档中被移除，同时由要插入的节点占据其位置。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 替换第一个子节点</span></div><div class="line"><span class="keyword">var</span> returnNode = someNode.replaceChild(newNode, someNode.firstChild);</div></pre></td></tr></table></figure></p>
<p>使用replaceChild()后，被替换的节点的所有关系指针都会被复制到插入的节点上面。</p>
<blockquote>
<p>删除节点：removeChild()</p>
</blockquote>
<p>该方法移除节点，接受一个参数，即要移除的节点，同时该方法返回被移除的节点。只能是一个节点，不能是一组节点。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 移除第一个子节点</span></div><div class="line"><span class="keyword">var</span> returnNode = someNode.removeChild(newNode, someNode.firstChild);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>克隆节点：cloneNode(true/false)</p>
</blockquote>
<p>返回调用该方法的节点的一个副本。参数表示是否采用深度克隆,如果为true,则该节点的所有后代节点也都会被克隆,如果为false,则只克隆该节点本身，文本或者换行、空格这些不会复制，因为他们都是一个textNode。</p>
<p>注意: 在DOM4规范中(实现于Gecko 13.0(Firefox 13.0 / Thunderbird 13.0 / SeaMonkey 2.10) , 查看 bug 698391),deep是一个可选参数. 如果省略的话, deep参数的默认值为true,也就是说,深度克隆是默认的.如果想使用浅克隆, 你需要将该参数指定为false。</p>
<p>在旧版本的浏览器中, 你始终需要指定deep参数。</p>
<p>克隆一个元素节点会拷贝它所有的属性以及属性值,当然也就包括了属性上绑定的事件(比如onclick=”alert(1)”),但不会拷贝那些使用addEventListener()方法或者node.onclick = fn这种用JavaScript动态绑定的事件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</div><div class="line"><span class="keyword">var</span> cloneHtml = div1.cloneNode(<span class="literal">true</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(cloneHtml);</div></pre></td></tr></table></figure>
<h1 id="元素选择"><a href="#元素选择" class="headerlink" title="元素选择"></a>元素选择</h1><p>HTML代码示例：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"div2"</span> <span class="attr">class</span>=<span class="string">"one"</span> <span class="attr">name</span>=<span class="string">"nameone"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div4"</span> <span class="attr">name</span>=<span class="string">"div2"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>querySelector、querySelectorAll(IE8及以上)</p>
</blockquote>
<p>Selectors API通过匹配一组选择器的方式来为从DOM中检索Element节点提供一些简单快捷的方法，这比过去必须要在javascript代码中用循环来查找某个你想要的特定元素更快一些。<br>该规范对于使用Document,DocumentFragment和Element接口的对象都增了两种新方法：</p>
<p>querySelector<br>返回节点子树内与之相匹配的第一个Element节点。如果没有匹配的节点，则返回null。</p>
<p>querySelectorAll<br>返回一个包含节点子树内所有与之相匹配的Element节点列表，如果没有相匹配的，则返回一个空节点列表。</p>
<p>注意：由 querySelector()、querySelectorAll()返回的节点列表不是动态实时的（非live Collection）。这和其他DOM查询方法返回动态实时节点列表不一样。</p>
<p>选择器方法接受一个或多个用逗号分隔的选择器来确定需要被返回的元素。例如，要选择文档中所有CSS的类(class)是warning或者note的段落(p)元素,可以这样写：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> special = <span class="built_in">document</span>.querySelectorAll( <span class="string">"p.warning, p.note"</span> );</div></pre></td></tr></table></figure></p>
<p>也可以通过ID来查询，例如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.querySelector( <span class="string">"#main, #basic, #exclamation"</span> );</div></pre></td></tr></table></figure></p>
<p>执行上面的代码后，el就包含了文档中元素的ID是main，basic或exclamation的所有元素中的第一个元素。</p>
<p>querySelector() and querySelectorAll() 里可以使用任何CSS选择器，他们都不是live Collection：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> notLive = <span class="built_in">document</span>.querySelectorAll(<span class="string">"p"</span>);</div><div class="line"><span class="built_in">console</span>.log(notLive);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>).removeChild(<span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>));</div><div class="line"><span class="built_in">console</span>.log(notLive);</div><div class="line"><span class="comment">// 上面两个输出都是输出 `p#div2.one`的引用，没有因为删除了`p`标签而使`notLive`的结果发生变化。</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>getElementById()</p>
</blockquote>
<p>返回一个匹配特定 ID的元素。id是大小写敏感的字符串，代表了所要查找的元素的唯一ID，如果没有则返回null。<br>如果新建一个元素，还没有插入到文档中，则不能通过该方法获取到。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> notLive = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line"><span class="built_in">console</span>.log(notLive.innerHTML);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>).removeChild(<span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>));</div><div class="line"><span class="built_in">console</span>.log(notLive.innerHTML);</div><div class="line"><span class="comment">// 上面输出都是2，说明getElementById()也是**非**live collection</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>getElementsByTagName()</p>
</blockquote>
<p>document.getElementsByTagName() 方法返回一个实时的包含具有给出标签名的元素们的HTMLCollection。指定的元素的子树会被搜索，包括元素自己。返回的 list 是实时的（live collection），意味着它会随着DOM树的变化自动更新。因此，如果对同一个元素，使用相同的参数，是不需要多次调用document.getElementsByTagName() 的。</p>
<p>Element.getElementsByTagName()的搜索被限制为指定元素的后代而不是document</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> live = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>);</div><div class="line"><span class="built_in">console</span>.log(live[<span class="number">0</span>].innerHTML);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>).removeChild(<span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>));</div><div class="line"><span class="built_in">console</span>.log(live[<span class="number">0</span>].innerHTML);</div><div class="line"><span class="comment">// 第一个输出2，第二个报错，因为无法引用到p标签</span></div></pre></td></tr></table></figure>
<blockquote>
<p>getElementsByName()</p>
</blockquote>
<p>该方法返回一个实时的nodelist collection，包含文档中所有name属性匹配的标签。这是一个<strong>live collection</strong>。<br>注意：在IE和opera下，如果某个元素1的name和另一个元素2的id重合，且元素2在元素1的前面，则getElementsByName()会取到元素2。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> live = <span class="built_in">document</span>.getElementsByName(<span class="string">"div2"</span>);</div><div class="line"><span class="built_in">console</span>.log(live[<span class="number">0</span>].innerHTML);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>).removeChild(<span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>));</div><div class="line"><span class="built_in">console</span>.log(live[<span class="number">0</span>].innerHTML);</div><div class="line"><span class="comment">// chrome下：全部输出4</span></div><div class="line"><span class="comment">// IE下： 第一个输出2，第二个报错。</span></div></pre></td></tr></table></figure>
<blockquote>
<p>getElementsByClassName()</p>
</blockquote>
<p>该方法返回一个即时更新的（live） HTMLCollection，包含了所有拥有指定 class 的子元素。当在 document 对象上调用此方法时，会检索整个文档，包括根元素。(IE9以下不支持)</p>
<p>要匹配多个class，则className用空格分开。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getElementsByClassName(<span class="string">"class1 class2"</span>);</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> live = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"one"</span>);</div><div class="line"><span class="built_in">console</span>.log(live[<span class="number">0</span>].innerHTML);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>).removeChild(<span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>));</div><div class="line"><span class="built_in">console</span>.log(live[<span class="number">0</span>].innerHTML);</div><div class="line"><span class="comment">// 第一个返回2，第二个报错</span></div></pre></td></tr></table></figure>
<h1 id="属性操作"><a href="#属性操作" class="headerlink" title="属性操作"></a>属性操作</h1><blockquote>
<p>setAttribute()</p>
</blockquote>
<p>添加一个新属性（attribute）到元素上，或改变元素上已经存在的属性的值。</p>
<p>当在 HTML 文档中的 HTML 元素上调用 setAttribute() 方法时，该方法会将其属性名称（attribute name）参数小写化。</p>
<p>如果指定的属性已经存在，则其值变为传递的值。如果不存在，则创建指定的属性。也可指定为null。如果设置为null，最好使用removeAttribute()。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line">div2.setAttribute(<span class="string">"class"</span>, <span class="string">"new_class"</span>);</div><div class="line">div2.setAttribute(<span class="string">"id"</span>, <span class="string">"new_id"</span>);</div></pre></td></tr></table></figure>
<p>注意：在IE7下，修改了元素的class，如果已有class，则会出现两个class，通过setAttribute()添加的不生效；如果没有class，则添加上class，但这个添加上去的class的样式不会生效。</p>
<blockquote>
<p>removeAttribute()</p>
</blockquote>
<p>该方法用于移除元素的属性。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line">div2.removeAttribute(<span class="string">"class"</span>);</div></pre></td></tr></table></figure></p>
<p>注意：IE7下无法移除 class 属性</p>
<blockquote>
<p>getAttribute()</p>
</blockquote>
<p>该方法返回元素上指定属性（attribute）的值。如果指定的属性不存在，则返回 null 或 “” （空字符串）（IE5+都返回null）。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line"><span class="keyword">var</span> attr = div2.getAttribute(<span class="string">"class"</span>);</div><div class="line"><span class="built_in">console</span>.log(attr);</div></pre></td></tr></table></figure></p>
<p>注意：IE7下不能正确返回class，返回的是null，其他正常。</p>
<blockquote>
<p>hasAttribute()</p>
</blockquote>
<p>hasAttribute() 返回一个布尔值，指示该元素是否包含有指定的属性（attribute）。</p>
<p>注意：IE7不支持该方法。</p>
<blockquote>
<p>自定义属性data-*</p>
</blockquote>
<p>html5里有一个data-*去设置获取元素的自定义属性值。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div id=<span class="string">"div1"</span> data-aa=<span class="string">"11"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>利用div1.dataset可以获得一个DOMStringMap，包含了元素的所有data-*。<br>使用div1.dataset.aa就可以获取11的值。<br>同样，通过设置div1.dataset.bb = “22”就可以设置一个自定义属性值。<br>在不兼容的浏览器里，就使用getAttribute和setAttribute</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</div><div class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</div><div class="line"><span class="keyword">if</span> (div1.dataset) &#123;</div><div class="line">    a = div1.dataset.aa;</div><div class="line">    div1.dataset.bb = <span class="string">"222"</span>;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    a = div1.getAttribute(<span class="string">"data-aa"</span>);</div><div class="line">    div1.setAttribute(<span class="string">"data-bb"</span>, <span class="string">"2222"</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(a);</div></pre></td></tr></table></figure>
<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><blockquote>
<p>addEventListener()</p>
</blockquote>
<p>addEventListener()将指定的事件监听器注册到目标对象上，当目标对象触发指定的事件时，指定的回调函数就会触发。目标对象可以是 文档上的元素、 document、 window 或者XMLHttpRequest(比如onreadystatechange事件)。</p>
<p>IE8及以下不支持此方法且只有事件冒泡没有事件捕获。IE9开始支持此方法，也就有了事件捕获。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</div><div class="line">div1.addEventListener(<span class="string">"click"</span>, listener, <span class="literal">false</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'test'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> cloneHtml = div1.cloneNode(<span class="literal">true</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(cloneHtml);</div></pre></td></tr></table></figure>
<p>第一个参数是事件名，第二个是回调函数，第三个参数为true表示捕获，false表示冒泡。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</div><div class="line">div1.addEventListener(<span class="string">"click"</span>, listener1, <span class="literal">true</span>/fasle);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'test1'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line">div2.addEventListener(<span class="string">"click"</span>, listener2, <span class="literal">true</span>/fasle);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'test2'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>有一点要注意的是，当对某一个元素1既绑定了捕获事件，又绑定了冒泡事件时：<br>当这个元素1并不是触发事件的那个元素2时，则触发顺序会按照先 捕获 后 冒泡 的顺序触发；<br>当这个元素1就是最底层的触发事件的元素时，则这个元素没有捕获和冒泡的区别，谁先绑定就先触发谁。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line"></div><div class="line">div2.addEventListener(<span class="string">"click"</span>, listener2, <span class="literal">true</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'test2'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">div2.addEventListener(<span class="string">"click"</span>, listener1, <span class="literal">false</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'test1'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 按绑定顺序执行，两个`addEventLister()`颠倒过来则执行顺序也变化</span></div><div class="line"><span class="comment">// 如果再对`div1`绑定一个捕获、一个冒泡，则会先触发捕获 再 触发冒泡，与绑定顺序无关</span></div></pre></td></tr></table></figure>
<blockquote>
<p>removeEventListener()</p>
</blockquote>
<p>与addEventListener()绑定事件对应的就是移除已绑定的事件。第三个参数的布尔值代表解绑的是捕获事件还是冒泡事件。两个事件互不相关。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line">div2.addEventListener(<span class="string">"click"</span>, listener2, <span class="literal">true</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'test2'</span>);</div><div class="line">&#125;</div><div class="line">div2.removeEventListener(<span class="string">"click"</span>, listener2, <span class="literal">true</span>);</div></pre></td></tr></table></figure>
<p>注意：只能通过removeEventListener()解绑有名字的函数，对于绑定的匿名函数无法解除绑定。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">div2.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'test'</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;, <span class="literal">true</span>);</div><div class="line"></div><div class="line">div2.removeEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"test"</span>);</div><div class="line">&#125;, <span class="literal">true</span>);</div><div class="line">div2.onclick = <span class="literal">null</span>;</div><div class="line"><span class="comment">// 点击div2依然打印出test</span></div></pre></td></tr></table></figure>
<p>注意：这里this指向触发事件的元素自身。</p>
<blockquote>
<p>attachEvent()、detachEvent()</p>
</blockquote>
<p>IE8及以下使用这两个方法绑定和解绑事件，当然，IE9+也支持这个事件。但这个方法绑定的事件默认为冒泡也只有冒泡。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 这里需要在事件前加 on</span></div><div class="line">div2.attachEvent(<span class="string">"onclick"</span>, listener1);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'test'</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line">div2.detachEvent(<span class="string">"onclick"</span>, listener1);</div></pre></td></tr></table></figure></p>
<p>和addEventListener()一样，也不能解绑匿名函数。<br>注意：这里this指向 window。</p>
<blockquote>
<p>阻止默认事件和冒泡</p>
</blockquote>
<p>标准事件和IE事件中的阻止默认事件和冒泡事件也有很大区别。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line"><span class="keyword">if</span> (div2.addEventListener) &#123;</div><div class="line">    div2.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">        e.preventDefault(); <span class="comment">// 阻止默认事件</span></div><div class="line">        e.stopPropagation(); <span class="comment">// 阻止冒泡</span></div><div class="line">        <span class="built_in">console</span>.log(e.target.innerHTML);</div><div class="line">    &#125;, <span class="literal">false</span>);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    div2.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> e = <span class="built_in">window</span>.event;</div><div class="line">        e.returnValue = <span class="literal">false</span>; <span class="comment">// 阻止默认事件</span></div><div class="line">        e.cancelBubble = <span class="literal">true</span>; <span class="comment">// 阻止冒泡</span></div><div class="line">        <span class="built_in">console</span>.log(e.srcElement.innerHTML);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>IE8及以下的event是绑定在window上的。（我的IE11里，仿真到IE7、IE8也可以取到标准事件里的 e 对象，估计是升级到IE11的原因）。</p>
<blockquote>
<p>自定义事件：createEvent()</p>
</blockquote>
<p>createEvent()用于创建一个新的 event ，而后这个 event 必须调用它的 init() 方法进行初始化。最后就可以在目标元素上使用dispatchEvent()调用新创建的event事件了。</p>
<p>createEvent()的参数一般有：UIEvents、MouseEvents、MutationEvents、HTMLEvents、Event(s)等等，分别有对应的init()方法。HTMLEvents、Event(s)对应的都是initEvent()方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">initEvent(type, bubbles, cancelable)</div></pre></td></tr></table></figure>
<p>type表示自定义的事件类型，bubbles表示是否冒泡，cancelable表示是否阻止默认事件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">target.dispatchEvent(ev)</div></pre></td></tr></table></figure>
<p>target就是要触发自定义事件的DOM元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var div1 = document.getElementById(&quot;div1&quot;);</div><div class="line">div1.addEventListener(&quot;message&quot;, function()&#123;</div><div class="line">  console.log(&apos;test&apos;);</div><div class="line">&#125;, false);</div><div class="line"></div><div class="line">var div2 = document.getElementById(&quot;div2&quot;);</div><div class="line">div2.addEventListener(&quot;message&quot;, function(e)&#123;</div><div class="line">  console.log(this);</div><div class="line">  console.log(e);</div><div class="line">&#125;, false);</div><div class="line">var ev = document.createEvent(&quot;Event&quot;);</div><div class="line">ev.initEvent(&quot;message&quot;, false, true); // 起泡参数变为true，div1的事件就会触发</div><div class="line">div2.dispatchEvent(ev);</div></pre></td></tr></table></figure></p>
<h1 id="获取元素相关计算后的值"><a href="#获取元素相关计算后的值" class="headerlink" title="获取元素相关计算后的值"></a>获取元素相关计算后的值</h1><blockquote>
<p>getComputedStyle()、currentStyle()</p>
</blockquote>
<p>当我们想获取元素计算后实际呈现在页面上的各个值，就用这两个方法。IE8及以下用currentStyle(),IE9+及其他标准浏览器用getComputedStyle()。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</div><div class="line"><span class="keyword">var</span> result = <span class="string">""</span>;</div><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.getComputedStyle) &#123;</div><div class="line">    result = (<span class="built_in">window</span> || <span class="built_in">document</span>.defaultView).getComputedStyle(div2, <span class="literal">null</span>)[<span class="string">'cssFloat'</span>];</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    result = div2.currentStyle[<span class="string">"styleFloat"</span>];</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(result);</div><div class="line"><span class="comment">// document.defaultView返回document对象所关联的window</span></div></pre></td></tr></table></figure></p>
<p>这两个方法在不同的浏览器里差距也很大。<br>比如float属性：<br>getComputedStyle： IE9以上需要用cssFloat，其他标准的用float<br>currentStyle： IE8及以下可用styleFloat或者float。</p>
<p>比如height属性：<br>假如未设置height值，标准浏览器里能计算出高度值，而currentStyle计算出来是auto。</p>
<p>上面的例子getComputedStyle是用键值去访问的，也可用getPropertyValue()去访问。（IE8、IE7不支持）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = (<span class="built_in">window</span> || <span class="built_in">document</span>.defaultView).getComputedStyle(div2, <span class="literal">null</span>).getPropertyValue(<span class="string">"float"</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>getBoundingClientRect()、getClientRects()</p>
</blockquote>
<p>getBoundingClientRect()该方法获得页面中某个元素的上、右、下、左分别相对浏览器视窗的位置。getBoundingClientRect是DOM元素到浏览器可视范围的距离（到浏览器顶部而不是文档顶部）。该函数返回一个Object对象，该对象有6个属性：top,lef,right,bottom,width,height；这里的top、left和css中的理解很相似，width、height是元素自身的宽高，但是right，bottom和css中的理解有点不一样。right是指元素右边界距窗口最左边的距离，bottom是指元素下边界距窗口最上面的距离。</p>
<p>getClientRects()是返回一个ClientRectList集合。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</div><div class="line"><span class="keyword">var</span> rects1 = div1.getClientRects();</div><div class="line"><span class="keyword">var</span> rects2 = div1.getBoundingClientRect();</div><div class="line"><span class="built_in">console</span>.log(rects1[<span class="number">0</span>].top);</div><div class="line"><span class="built_in">console</span>.log(rects2.top);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/viewport和media query/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/viewport和media query/" itemprop="url">
                  viewport和media query
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T15:44:00+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="viewport"><a href="#viewport" class="headerlink" title="viewport"></a>viewport</h1><h3 id="width-device-width"><a href="#width-device-width" class="headerlink" title="width=device-width:"></a>width=device-width:</h3><p>你可以定义viewport的宽度.如果你不使用width=device-width,在移动端上你的页面延伸会超过视窗布局的宽度(width=980px),如果你使用了width=device-width,你的页面将会显示为合适的移动端宽度(width=320px),我们可以使用meta标记:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>我们看见很多网站都建议把content属性的值设置为width=device-width。这相当于告诉浏览器将页面宽度假设为设备宽度。不幸的是，只有当设备是纵向时假设才是正确的。当我们把设备旋转成横向时，device-width还是和纵向的一样（比如，320px），这意味着，即使我们把页面设计成适应了480px横向设备，它还是会返回320px的效果。<br>如果我们的页面在纵向和横向设备中样式相同，那么我们就可以用width=device-width就足够了，需要注意的是这个是唯一告诉android设备使用设备宽度的方法。</p>
<h3 id="initial-scale-1-0-maximum-scale-1-0"><a href="#initial-scale-1-0-maximum-scale-1-0" class="headerlink" title="initial-scale=1.0,maximum-scale=1.0"></a>initial-scale=1.0,maximum-scale=1.0</h3><p> 在大多数手机上,默认的缩放在手机浏览器上可能会触发”zoom”.为了阻止用户缩放,你可以设置initial-scale=1.0,下面是移动视窗的完整写法:<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="Media-Queries"><a href="#Media-Queries" class="headerlink" title="Media Queries"></a>Media Queries</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">600px</span>) &#123; <span class="comment">/*当屏幕尺寸小于600px时，应用下面的CSS样式*/</span></div><div class="line">  <span class="selector-class">.class</span> &#123;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>要注意的是由于网页会根据屏幕宽度调整布局，所以不能使用绝对宽度的布局，也不能使用具有绝对宽度的元素。这一条非常重要，否则会出现横向滚动条。 </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/CSS3的性能与兼容性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/CSS3的性能与兼容性/" itemprop="url">
                  CSS3的性能与兼容性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T15:04:38+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h1><h3 id="translate3d进行gpu加速"><a href="#translate3d进行gpu加速" class="headerlink" title="translate3d进行gpu加速"></a>translate3d进行gpu加速</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**不推荐**/</span></div><div class="line"><span class="selector-tag">left</span>: 500<span class="selector-tag">px</span></div><div class="line"><span class="comment">/**推荐**/</span></div><div class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateX</span>(500<span class="selector-tag">px</span>);</div></pre></td></tr></table></figure>
<p>一个元素通过translate3d右移500px的动画流畅度会明显优于使用left属性；<br>原因是因为：</p>
<ul>
<li><p>CSS动画属性会触发整个页面的重排relayout、重绘repaint、重组recomposite</p>
</li>
<li><p>Paint通常是其中最花费性能的，尽可能避免使用触发paint的CSS动画属性，这也是为什么我们推荐在CSS动画中使用webkit-transform: translateX(3em)的方案代替使用left: 3em，因为left会额外触发layout与paint，而webkit-transform只触发整个页面composite（这也是为什么推荐在CSS动画中使用webkit-transform: translateX(500px)的方案代替使用left: 500px）；</p>
</li>
</ul>
<h3 id="box-shadow和gradients-渐变"><a href="#box-shadow和gradients-渐变" class="headerlink" title="box-shadow和gradients(渐变)"></a>box-shadow和gradients(渐变)</h3><p>这两个东西在css3里往往都是页面的性能杀手，计算他们尤其消耗cpu, 尤其是在一个元素同时都使用了它们，所以拥抱扁平化设计吧;</p>
<h1 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h1><h3 id="border-radius"><a href="#border-radius" class="headerlink" title="border-radius"></a>border-radius</h3><p>IE9+,Firefox4+,Chrome5+,Safari5+,Opera01.5+,iOS Safari4+,Android Browser2.2+ ,Android Chrome18+</p>
<p>低版本的chrome:-webkit-border-radius:10px;</p>
<p>低版本的firefox:-moz-border-radius:10px;</p>
<p>IE6/7/8:引入ie-css3兼容文件,不支持除了黑色(#000)以外的其他颜色</p>
<h3 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h3><p>IE9.0+,Firefox4.0+,Chrome10.0+,Safari5.1+,Opera10.5+,iOS Safari5.0+,Android Browser4.0+,Android Chrome18.0+</p>
<p>低版本的chrome:-webkit-box-shadow:10px 10px 5px #888;</p>
<p>低版本的firefox:-moz-box-shadow:10px 10px 5px #888;</p>
<p>IE6/7/8:</p>
<ul>
<li>使用filter</li>
<li>推荐：引入ie-css3兼容文件behavior:url(ie-css3.htc)</li>
</ul>
<h3 id="border-image"><a href="#border-image" class="headerlink" title="border-image"></a>border-image</h3><p>IE9+,Firefox4+, Chrome15+,Safari7+, Opera15+, iOS Safari7+, Android Browser4.4+, Android Chrome18+</p>
<p>低版本的chrome:-webkit-background-size:10px 10px 5px #888; //不支持background简写</p>
<p>低版本的firefox:-moz-background-size:10px 10px 5px #888;</p>
<p>IE8 引入backgroundsize.min.htc兼容文件</p>
<h3 id="text-shadow"><a href="#text-shadow" class="headerlink" title="text-shadow"></a>text-shadow</h3><p>IE10+, Firefox3.5+, Chrome4.0+, Safari6.0+</p>
<p>低版本的chrome:-webkit-text-shadow:1px 1px 1px #000;</p>
<p>低版本的firefox:-moz-text-shadow:1px 1px 1px #000;</p>
<p>IE6/7/8:引入ie-css3兼容文件behavior:url(ie-css3.htc);</p>
<h3 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h3><p>IE9+, Firefox3.5+, Chrome4.0+, Safari6.0+, iOS Safari8.4+, Android Browser4.4+, Android Chrome34+</p>
<p>兼容方法：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.transform</span>&#123;</div><div class="line">    <span class="attribute">-webkit-transform</span>: x,y;</div><div class="line">    <span class="attribute">-moz-transform</span>: x,y;</div><div class="line">    <span class="attribute">-ms-transform</span>: x,y;</div><div class="line">    <span class="attribute">-o-transform</span>: x,y;</div><div class="line">    <span class="attribute">transform</span>: x,y;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>IE8及以下：用IE滤镜<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    filter:fliph;//水平翻转相当于transform:rotateY(180deg)</div><div class="line">    filter:flipv;//垂直翻转相当于transform:rotateX(180deg)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h3><p>IE10+, Firefox16+, Chrome26+ ,Safari6.1+ , iOS Safari7+, Android Browser4.4+, Android Chrome25+</p>
<p>兼容方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">p &#123;</div><div class="line">  -webkit-transition: all .5s ease-in-out 1s;</div><div class="line">  -moz-transition: all .5s ease-in-out 1s;</div><div class="line">  -o-transition: all .5s ease-in-out 1s;</div><div class="line">  transition: all .5s ease-in-out 1s;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>IE9以及更早的版本，不支持 transition 属性。</p>
<h3 id="animation"><a href="#animation" class="headerlink" title="animation"></a>animation</h3><p>IE10+,Firefox16+, Chrome43+, Safari9+<br>兼容方法：<br>低版本的chrome:-webkit-</p>
<p>低版本的firefox：-moz-</p>
<p>IE9及以下不支持</p>
<h3 id="linear-gradient-radial-gradient"><a href="#linear-gradient-radial-gradient" class="headerlink" title="linear-gradient radial-gradient"></a>linear-gradient radial-gradient</h3><p>IE10+, Firefox16+, Chrome26+, Safari6.1+<br>兼容方法：</p>
<p>低版本的chrome:-webkit-</p>
<p>低版本的firefox：-moz-</p>
<p>IE9及以下可使用 IE 滤镜处理:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#000000',endColorstr='#ffffff');</div></pre></td></tr></table></figure></p>
<h3 id="rgba-r-g-b-a"><a href="#rgba-r-g-b-a" class="headerlink" title="rgba(r,g,b,a)"></a>rgba(r,g,b,a)</h3><p>IE9+, Firefox2+, Chrome4+, Safari3+, iOS Safari3.2+, Android Browser2.1+, Android Chrome18+</p>
<p>兼容方法：</p>
<p>IE6/7/8不支持使用 rgba 模式实现透明度，可使用 IE 滤镜处理<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7fff0000,endColorstr=#7fff0000);</div></pre></td></tr></table></figure></p>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p>IE11+,Firefox22+, Chrome21+, Safari6.1+</p>
<p>低版本的chrome:-webkit- 或者 -webkit-box-flex</p>
<p>低版本的firefox：-moz-box-flex:1;</p>
<p>IE10:-ms-flex:1;</p>
<p>box-flex效果类似于过渡版本和新版本的flex属性；</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/CSS3新特性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/CSS3新特性/" itemprop="url">
                  CSS3新特性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T12:45:34+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CSS3-选择器（Selector）"><a href="#CSS3-选择器（Selector）" class="headerlink" title="CSS3 选择器（Selector）"></a>CSS3 选择器（Selector）</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &gt; <span class="selector-class">.mainTabContainer</span>  <span class="selector-tag">tbody</span><span class="selector-pseudo">:nth-child(even)</span>&#123;</div><div class="line"> <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">body</span> &gt; <span class="selector-class">.mainTabContainer</span>  <span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child(odd)</span>&#123;</div><div class="line"> <span class="attribute">background-color</span>: black;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-pseudo">:not(.textinput)</span>&#123;</div><div class="line"> <span class="attribute">font-size</span>: <span class="number">12px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span>&#123;</div><div class="line">  <span class="attribute">border-color</span>: red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如上所示，我们列举了一些 CSS3 的选择器，在我们日常的开发中可能会经常用到，这些新的 CSS3 特性解决了很多我们之前需要用 JavaScript 脚本才能解决的问题。<br>tbody: nth-child(even), nth-child(odd)：此处他们分别代表了表格（tbody）下面的偶数行和奇数行（tr），这种样式非常适用于表格，让人能非常清楚的看到表格的行与行之间的差别，让用户易于浏览。<br>: not(.textinput)：这里即表示所有 class 不是“textinput”的节点。<br>div:first-child：这里表示所有 div 节点下面的第一个直接子节点。<br>除此之外，还有很多新添加的选择器<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:nth-last-child(n)</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:nth-of-type(n)</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:nth-last-of-type(n)</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:last-child</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:first-of-type</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:only-child</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:only-of-type</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:empty</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:checked</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:enabled</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:disabled</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:selection</span></div><div class="line"><span class="selector-tag">e</span><span class="selector-pseudo">:not(s)</span></div></pre></td></tr></table></figure></p>
<h1 id="Font-face-特性"><a href="#Font-face-特性" class="headerlink" title="@Font-face 特性"></a>@Font-face 特性</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">font-face</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: BorderWeb;</div><div class="line">  <span class="attribute">src</span>:<span class="built_in">url</span>(BORDERW0.eot);</div><div class="line">&#125;</div><div class="line">@<span class="keyword">font-face</span> &#123;</div><div class="line">  <span class="attribute">font-family</span>: Runic;</div><div class="line">  <span class="attribute">src</span>:<span class="built_in">url</span>(RUNICMT0.eot);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.border</span> &#123; <span class="attribute">FONT-SIZE</span>: <span class="number">35px</span>; <span class="attribute">COLOR</span>: black; <span class="attribute">FONT-FAMILY</span>: <span class="string">"BorderWeb"</span> &#125;</div><div class="line"><span class="selector-class">.event</span> &#123; <span class="attribute">FONT-SIZE</span>: <span class="number">110px</span>; <span class="attribute">COLOR</span>: black; <span class="attribute">FONT-FAMILY</span>: <span class="string">"Runic"</span> &#125;</div></pre></td></tr></table></figure>
<p>上边代码声明的两个服务端字体，其字体源指向“BORDERW0.eot”和“RUNICMT0.eot”文件，并分别冠以“BorderWeb”和“Runic”的字体名称。声明之后，我们就可以在页面中使用了：“ FONT-FAMILY: “BorderWeb” ” 和 “ FONT-FAMILY: “Runic” ”。<br>这种做法使得我们在开发中如果需要使用一些特殊字体，而又不确定客户端是否已安装时，便可以使用这种方式。</p>
<h1 id="Word-wrap-amp-Text-overflow-样式"><a href="#Word-wrap-amp-Text-overflow-样式" class="headerlink" title="Word-wrap &amp; Text-overflow 样式"></a>Word-wrap &amp; Text-overflow 样式</h1><p>“word-wrap: break-word”，设置或检索当当前行超过指定容器的边界时是否断开转行<br>“text-overflow” 则设置或检索当当前行超过指定容器的边界时如何显示（显示省略号）</p>
<h1 id="边框和颜色（color-border）"><a href="#边框和颜色（color-border）" class="headerlink" title="边框和颜色（color, border）"></a>边框和颜色（color, border）</h1><h3 id="颜色的透明度"><a href="#颜色的透明度" class="headerlink" title="颜色的透明度"></a>颜色的透明度</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">color</span>: <span class="selector-tag">rgba</span>(255, 0, 0, 0<span class="selector-class">.75</span>);</div><div class="line"><span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 255, 0<span class="selector-class">.75</span>);</div></pre></td></tr></table></figure>
<p>这里的“rgba”属性中的“a”代表透明度，也就是这里的“0.75”.</p>
<h3 id="圆角案例"><a href="#圆角案例" class="headerlink" title="圆角案例"></a>圆角案例</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span> &#123;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="CSS3-的渐变效果（Gradient）"><a href="#CSS3-的渐变效果（Gradient）" class="headerlink" title="CSS3 的渐变效果（Gradient）"></a>CSS3 的渐变效果（Gradient）</h1><h3 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h3><p>左上（0% 0%）到右上（0% 100%）即从左到右水平渐变：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">background-image</span><span class="selector-pseudo">:-webkit-gradient(linear</span>,0% 0%,100% 0%,<span class="selector-tag">from</span>(<span class="selector-id">#2A8BBE</span>),<span class="selector-tag">to</span>(\<span class="selector-id">#FE280E</span>));</div></pre></td></tr></table></figure></p>
<p>这里 linear 表示线性渐变，从左到右，由蓝色（#2A8BBE）到红色（#FE280E）的渐变。<br>还有复杂一点的渐变，如：水平渐变，33% 处为绿色，66% 处为橙色：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">background-image</span><span class="selector-pseudo">:-webkit-gradient(linear</span>,0% 0%,100% 0%,<span class="selector-tag">from</span>(<span class="selector-id">#2A8BBE</span>),<span class="selector-tag">color-stop</span>(0<span class="selector-class">.33</span>,<span class="selector-id">#AAD010</span>),<span class="selector-tag">color-stop</span>(0<span class="selector-class">.33</span>,<span class="selector-id">#FF7F00</span>),<span class="selector-tag">to</span>(<span class="selector-id">#FE280E</span>));</div></pre></td></tr></table></figure></p>
<h3 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h3><p>接下来我们要介绍径向渐变（radial），这不是从一个点到一个点的渐变，而从一个圆到一个圆的渐变。不是放射渐变而是径向渐变。来看一个例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">backgroud:-webkit-gradient(radial,50 50,50,50 50,0,from(black),color-stop(0.5,red),to(blue));</div></pre></td></tr></table></figure></p>
<h1 id="CSS3-的阴影（Shadow）和反射（Reflect）效果"><a href="#CSS3-的阴影（Shadow）和反射（Reflect）效果" class="headerlink" title="CSS3 的阴影（Shadow）和反射（Reflect）效果"></a>CSS3 的阴影（Shadow）和反射（Reflect）效果</h1><p>首先来说说阴影效果，阴影效果既可用于普通元素，也可用于文字，参考如下代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.class1</span>&#123;</div><div class="line">  <span class="attribute">text-shadow</span>:<span class="number">5px</span> <span class="number">2px</span> <span class="number">6px</span> <span class="built_in">rgba</span>(64, 64, 64, 0.5);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.class2</span>&#123;</div><div class="line">  <span class="attribute">box-shadow</span>:<span class="number">3px</span> <span class="number">3px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(0, 64, 128, 0.3);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>设置很简单，对于文字阴影：表示 X 轴方向阴影向右 5px,Y 轴方向阴影向下 2px, 而阴影模糊半径 6px，颜色为 rgba(64, 64, 64, 0.5)。其中偏移量可以为负值，负值则反方向。元素阴影也类似。<br>接下来我们再来谈谈反射，他看起来像水中的倒影，其设置也很简单，参考如下代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.classReflect</span>&#123;</div><div class="line">  <span class="attribute">-webkit-box-reflect</span>: below <span class="number">10px</span></div><div class="line">  <span class="built_in">-webkit-gradient</span>(linear, left top, left bottom, from(transparent),<span class="built_in">to</span>(rgba(255, 255, 255, 0.51)));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="CSS3-的背景效果"><a href="#CSS3-的背景效果" class="headerlink" title="CSS3 的背景效果"></a>CSS3 的背景效果</h1><p>CSS3 多出了几种关于背景（background）的属性，我们这里会简单介绍一下：<br>首先：“Background Clip”，该属确定背景画区，有以下几种可能的属性：</p>
<ul>
<li>background-clip: border-box; 背景从 border 开始显示 ;</li>
<li>background-clip: padding-box; 背景从 padding 开始显示 ;</li>
<li>background-clip: content-box; 背景显 content 区域开始显示 ;</li>
<li>background-clip: no-clip; 默认属性，等同于 border-box;</li>
</ul>
<p>通常情况，我们的背景都是覆盖整个元素的，现在 CSS3 让您可以设置是否一定要这样做。这里您可以设定背景颜色或图片的覆盖范围。<br>其次：“Background Origin”，用于确定背景的位置，它通常与 background-position 联合使用，您可以从 border、padding、content 来计算 background-position（就像 background-clip）。</p>
<ul>
<li>background-origin: border-box; 从 border. 开始计算 background-position;</li>
<li>background-origin: padding-box; 从 padding. 开始计算 background-position;</li>
<li>background-origin: content-box; 从 content. 开始计算 background-position;</li>
</ul>
<p>还有，“Background Size”，常用来调整背景图片的大小，注意别和 clip 弄混，这个主要用于设定图片本身。有以下可能的属性：</p>
<ul>
<li>background-size: contain; 缩小图片以适合元素（维持像素长宽比）</li>
<li>background-size: cover; 扩展元素以填补元素（维持像素长宽比）</li>
<li>background-size: 100px 100px; 缩小图片至指定的大小 .</li>
<li>background-size: 50% 100%; 缩小图片至指定的大小，百分比是相对包    含元素的尺寸 .</li>
</ul>
<p>最后，“Background Break”属性，CSS3 中，元素可以被分成几个独立的盒子（如使内联元素 span 跨越多行），background-break 属性用来控制背景怎样在这些不同的盒子中显示。</p>
<ul>
<li>background-break: continuous; 默认值。忽略盒之间的距离（也就是像元    素没有分成多个盒子，依然是一个整体一    样）</li>
<li>background-break: bounding-box; 把盒之间的距离计算在内；</li>
<li>background-break: each-box; 为每个盒子单独重绘背景。</li>
</ul>
<p>这种属性让您可以设定复杂元素的背景属性。<br>最为重要的一点，CSS3 中支持多背景图片，参考如下代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span> &#123;</div><div class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(src/zippy-plus.png) <span class="number">10px</span> center no-repeat,</div><div class="line"> <span class="built_in">url</span>(src/gray_lines_bg.png) <span class="number">10px</span> center repeat-x;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此为同一元素两个背景的案例，其中一个重复显示，一个不重复。参考一下效果图：<br><img src="/image/image036.gif"></p>
<h1 id="CSS3-的盒子模型"><a href="#CSS3-的盒子模型" class="headerlink" title="CSS3 的盒子模型"></a>CSS3 的盒子模型</h1><p>参考文章：<br><a href="/blog/content/弹性布局（Flex布局）/">弹性布局（Flex布局）</a></p>
<h1 id="CSS3-的-Transitions-Transforms-和-Animation"><a href="#CSS3-的-Transitions-Transforms-和-Animation" class="headerlink" title="CSS3 的 Transitions, Transforms 和 Animation"></a>CSS3 的 Transitions, Transforms 和 Animation</h1><h3 id="Transitions"><a href="#Transitions" class="headerlink" title="Transitions"></a>Transitions</h3><p>先说说 Transition，Transition 有下面些具体属性：<br>transition-property：用于指定过渡的性质，比如 transition-property:backgrond 就是指 backgound 参与这个过渡<br>transition-duration：用于指定这个过渡的持续时间<br>transition-delay：用于制定延迟过渡的时间<br>transition-timing-function：用于指定过渡类型，有 ease | linear | ease-in | ease-out | ease-in-out | cubic-bezier<br>可能您觉得摸不着头脑，其实很简单，我们用一个例子说明，参看一下如下代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"transDiv"</span> <span class="attr">class</span>=<span class="string">"transStart"</span>&gt;</span> transition <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> .transStart &#123;</div><div class="line">    background-color: white;</div><div class="line">    -webkit-transition: background-color 0.3s linear;</div><div class="line">    -moz-transition: background-color 0.3s linear;</div><div class="line">    -o-transition: background-color 0.3s linear;</div><div class="line">    transition: background-color 0.3s linear;</div><div class="line"> &#125;</div><div class="line"> .transEnd &#123;</div><div class="line">    background-color: red;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>这里他说明的是，这里 id 为“transDiv”的 div，当它的初始“background-color”属性变化时（被 JavaScript 修改），会呈现出一种变化效果，持续时间为 0.3 秒，效果为均匀变换（linear）。如：该 div 的 class 属性由“transStart”改为“transEnd”，其背景会由白（white）渐变到红（red）。</p>
<h3 id="Transform"><a href="#Transform" class="headerlink" title="Transform"></a>Transform</h3><p>再来看看 Transform，其实就是指拉伸，压缩，旋转，偏移等等一些图形学里面的基本变换。见如下代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.skew</span> &#123;</div><div class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">skew</span>(50deg);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.scale</span> &#123;</div><div class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(2, 0.5);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.rotate</span> &#123;</div><div class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(30deg);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.translate</span> &#123;</div><div class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(50px, 50px);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.all_in_one_transform</span> &#123;</div><div class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">skew</span>(20deg) <span class="built_in">scale</span>(1.1, 1.1) <span class="built_in">rotate</span>(40deg) <span class="built_in">translate</span>(10px, 15px);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>“skew”是倾斜，“scale”是缩放，“rotate”是旋转，“translate”是平移。最后需要说明一点，transform 支持综合变换。可见其效果图如下：<br><img src="/image/image046.gif"></p>
<h3 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h3><p>最后，我们来说说 Animation 吧。它可以说开辟了 CSS 的新纪元，让 CSS 脱离了“静止”这一约定俗成的前提。以 webkit 为例，见如下代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> anim1 &#123;</div><div class="line">  0% &#123;</div><div class="line">      <span class="attribute">Opacity</span>: <span class="number">0</span>;</div><div class="line">      <span class="attribute">Font-size</span>: <span class="number">12px</span>;</div><div class="line">  &#125;</div><div class="line">  100% &#123;</div><div class="line">      <span class="attribute">Opacity</span>: <span class="number">1</span>;</div><div class="line">      <span class="attribute">Font-size</span>: <span class="number">24px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.anim1Div</span> &#123;</div><div class="line">    <span class="attribute">-webkit-animation-name</span>: anim1 ;<span class="comment">/*与上边定义对应*/</span></div><div class="line">    <span class="attribute">-webkit-animation-duration</span>: <span class="number">1.5s</span>;</div><div class="line">    <span class="attribute">-webkit-animation-iteration-count</span>: <span class="number">4</span>;</div><div class="line">    <span class="attribute">-webkit-animation-direction</span>: alternate;</div><div class="line">    <span class="attribute">-webkit-animation-timing-function</span>: ease-in-out;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/CSS选择器优先级及其性能优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/CSS选择器优先级及其性能优化/" itemprop="url">
                  CSS选择器优先级及其性能优化
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T11:38:18+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先我们需要清楚，浏览器是如何读取选择器，以识别样式，并将相应的样式附于对应的HTML元素，达到美化页面的效果。Chris Coyier曾在《Efficiently Rendering CSS》一文中说过“<strong>浏览器读取你的选择器，遵循的原则是从选择器的右边到左边读取。换句话说，浏览器读取选择器的顺序是由右到左进行</strong>”。<br>比如说：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span><span class="selector-class">.nav</span> &lt; <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-attr">[title]</span>&#123;</div><div class="line">  <span class="comment">/* */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>上面的实例来说，浏览器首先会尝试在你的HTML标签中寻找“a[title]”元素，接着在匹配“li和ul”，最后在去匹配“div.nav”。这就是前成所主的“选择器从右到左的原则”。<br>选择器的最后一部分，也就是选择器的最右边（在这个例子中就是a[title]部分）部分被称为“<strong>关键选择器</strong>”，它将决定你的选择器的效率如何？是高还是低。<br>那么如何让关键选择器更有效，性能化更高呢？其实很简单，主要把握一点“<strong>越具体的关键选择器，其性能越高</strong>”<br>选择器有一个固有的效率，执行效率的顺序如下：</p>
<ol>
<li>id选择器（#myid）</li>
<li>类选择器（.myclassname）</li>
<li>标签选择器（div,h1,p）</li>
<li>相邻选择器（h1+p）</li>
<li>子选择器（ul &lt; li）</li>
<li>后代选择器（li a）</li>
<li>通配符选择器(*)</li>
<li>属性选择器（a[rel=”external”]）</li>
<li>伪类选择器（a:hover,li:nth-child）</li>
</ol>
<p><strong>综合上面的顺序，我们清楚的知道，id和类名用于关键选择器上效率是最高的，而CSS3的仿伪类和属性选择器，虽然使用方便，但其效率却是最低的。</strong><br>这个顺序跟选择器的优先级是有区别的：</p>
<ol>
<li>important声明 1,0,0,0</li>
<li>ID选择器 0,1,0,0</li>
<li>类选择器 0,0,1,0</li>
<li>伪类选择器 0,0,1,0</li>
<li>属性选择器 0,0,1,0</li>
<li>标签选择器 0,0,0,1</li>
<li>伪元素选择器 0,0,0,1</li>
<li>通配符选择器 0,0,0,0</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/几种清除浮动的方法及优缺点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/几种清除浮动的方法及优缺点/" itemprop="url">
                  几种清除浮动的方法及优缺点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T11:28:25+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-父级div定义height"><a href="#1-父级div定义height" class="headerlink" title="1. 父级div定义height"></a>1. 父级div定义height</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.div1</span>&#123;<span class="attribute">background</span>:<span class="number">#000080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;<span class="comment">/*解决代码*/</span><span class="attribute">height</span>:<span class="number">200px</span>;&#125;</div><div class="line">  <span class="selector-class">.div2</span>&#123;<span class="attribute">background</span>:<span class="number">#800080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;<span class="attribute">height</span>:<span class="number">100px</span>;<span class="attribute">margin-top</span>:<span class="number">10px</span>&#125;</div><div class="line">  <span class="selector-class">.left</span>&#123;<span class="attribute">float</span>:left;<span class="attribute">width</span>:<span class="number">20%</span>;<span class="attribute">height</span>:<span class="number">200px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line">  <span class="selector-class">.right</span>&#123;<span class="attribute">float</span>:right;<span class="attribute">width</span>:<span class="number">30%</span>;<span class="attribute">height</span>:<span class="number">80px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>Left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>Right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div2"</span>&gt;</span></div><div class="line">  div2</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>原理：父级div手动定义height，就解决了父级div无法自动获取到高度的问题。<br>优点：简单、代码少、容易掌握<br>缺点：只适合高度固定的布局，要给出精确的高度，如果高度和父级div不一样时，会产生问题<br>建议：不推荐使用，只建议高度固定的布局时使用</p>
<h3 id="2-结尾处加空div标签-clear-both"><a href="#2-结尾处加空div标签-clear-both" class="headerlink" title="2. 结尾处加空div标签 clear:both"></a>2. 结尾处加空div标签 clear:both</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.div1</span>&#123;<span class="attribute">background</span>:<span class="number">#000080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red&#125;</div><div class="line">  <span class="selector-class">.div2</span>&#123;<span class="attribute">background</span>:<span class="number">#800080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;<span class="attribute">height</span>:<span class="number">100px</span>;<span class="attribute">margin-top</span>:<span class="number">10px</span>&#125;</div><div class="line">  <span class="selector-class">.left</span>&#123;<span class="attribute">float</span>:left;<span class="attribute">width</span>:<span class="number">20%</span>;<span class="attribute">height</span>:<span class="number">200px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line">  <span class="selector-class">.right</span>&#123;<span class="attribute">float</span>:right;<span class="attribute">width</span>:<span class="number">30%</span>;<span class="attribute">height</span>:<span class="number">80px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line">  <span class="comment">/*清除浮动代码*/</span></div><div class="line">  <span class="selector-class">.clearfloat</span>&#123;<span class="attribute">clear</span>:both&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>Left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>Right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clearfloat"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div2"</span>&gt;</span></div><div class="line">  div2</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>原理：添加一个空div，利用css提高的clear:both清除浮动，让父级div能自动获取到高度<br>优点：简单、代码少、浏览器支持好、不容易出现怪问题<br>缺点：增加空div，让人感觉很不好<br>建议：不推荐使用，但此方法是以前主要使用的一种清除浮动方法</p>
<h3 id="3-父级div定义伪类-after-和-zoom"><a href="#3-父级div定义伪类-after-和-zoom" class="headerlink" title="3. 父级div定义伪类:after 和 zoom"></a>3. 父级div定义伪类:after 和 zoom</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-class">.div1</span>&#123;<span class="attribute">background</span>:<span class="number">#000080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;&#125;</div><div class="line"><span class="selector-class">.div2</span>&#123;<span class="attribute">background</span>:<span class="number">#800080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;<span class="attribute">height</span>:<span class="number">100px</span>;<span class="attribute">margin-top</span>:<span class="number">10px</span>&#125;</div><div class="line"><span class="selector-class">.left</span>&#123;<span class="attribute">float</span>:left;<span class="attribute">width</span>:<span class="number">20%</span>;<span class="attribute">height</span>:<span class="number">200px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">float</span>:right;<span class="attribute">width</span>:<span class="number">30%</span>;<span class="attribute">height</span>:<span class="number">80px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line"><span class="comment">/*清除浮动代码*/</span></div><div class="line"><span class="selector-class">.clearfloat</span><span class="selector-pseudo">:after</span>&#123;</div><div class="line">  <span class="attribute">display</span>:block;</div><div class="line">  <span class="attribute">clear</span>:both;<span class="attribute">content</span>:<span class="string">""</span>;<span class="attribute">visibility</span>:hidden;<span class="attribute">height</span>:</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.clearfloat</span>&#123;</div><div class="line">  <span class="attribute">zoom</span>:<span class="number">1</span></div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div1 clearfloat"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>Left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>Right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div2"</span>&gt;</span></div><div class="line">  div2</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>原理：IE8以上和非IE浏览器才支持:after，原理和方法2有点类似，zoom(IE转有属性)可解决ie6,ie7浮动问题<br>优点：浏览器支持好、不容易出现怪问题（目前：大型网站都有使用，如：腾迅，网易，新浪等等）<br>缺点：代码多，要两句代码结合使用才能让主流浏览器都支持。</p>
<h3 id="4-父级div定义-overflow-hidden"><a href="#4-父级div定义-overflow-hidden" class="headerlink" title="4. 父级div定义 overflow:hidden"></a>4. 父级div定义 overflow:hidden</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-class">.div1</span>&#123;</div><div class="line">  <span class="attribute">background</span>:<span class="number">#000080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;</div><div class="line">  <span class="comment">/*解决代码*/</span></div><div class="line">  <span class="attribute">width</span>:<span class="number">98%</span>;</div><div class="line">  <span class="attribute">overflow</span>:hidden</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.div2</span>&#123;<span class="attribute">background</span>:<span class="number">#800080</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid red;<span class="attribute">height</span>:<span class="number">100px</span>;<span class="attribute">margin-top</span>:<span class="number">10px</span>;<span class="attribute">width</span>:<span class="number">98%</span>&#125;</div><div class="line"><span class="selector-class">.left</span>&#123;<span class="attribute">float</span>:left;<span class="attribute">width</span>:<span class="number">20%</span>;<span class="attribute">height</span>:<span class="number">200px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">float</span>:right;<span class="attribute">width</span>:<span class="number">30%</span>;<span class="attribute">height</span>:<span class="number">80px</span>;<span class="attribute">background</span>:<span class="number">#DDD</span>&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>Left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>Right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div2"</span>&gt;</span></div><div class="line">div2</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>原理：必须定义width或zoom:1，同时不能定义height，使用overflow:hidden时，浏览器会自动检查浮动区域的高度<br>优点：简单、代码少、浏览器支持好<br>缺点：不能和position配合使用，因为超出的尺寸的会被隐藏。<br>建议：只推荐没有使用position或对overflow:hidden理解比较深的朋友使用。 </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/弹性布局（Flex布局）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/弹性布局（Flex布局）/" itemprop="url">
                  弹性布局（Flex布局）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T10:36:39+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Flex布局是什么？"><a href="#1-Flex布局是什么？" class="headerlink" title="1. Flex布局是什么？"></a>1. Flex布局是什么？</h1><p>Flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。<br>任何一个容器都可以指定Flex布局<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">display</span>: flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>行内元素也可以使用Flex布局。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">display</span>: inline-flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Webkit内核的浏览器，必须加上-webkit前缀。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Safari */</span></div><div class="line">  <span class="attribute">display</span>: flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意，设为Flex布局以后，子元素的float、clear和vertical-align属性将失效。</p>
<h1 id="2-基本概念"><a href="#2-基本概念" class="headerlink" title="2. 基本概念"></a>2. 基本概念</h1><p>采用Flex布局的元素，称为Flex容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称”项目”。<br><img src="/image/bg2015071004.png"><br>容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；交叉轴的开始位置叫做cross start，结束位置叫做cross end。<br>项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。</p>
<h1 id="3-容器的属性"><a href="#3-容器的属性" class="headerlink" title="3. 容器的属性"></a>3. 容器的属性</h1><p>以下6个属性设置在容器上。</p>
<ul>
<li>flex-direction</li>
<li>flex-flow</li>
<li>justify-content</li>
<li>align-items</li>
<li>align-content</li>
</ul>
<h2 id="3-1-flex-direction属性"><a href="#3-1-flex-direction属性" class="headerlink" title="3.1 flex-direction属性"></a>3.1 flex-direction属性</h2><p>flex-direction属性决定主轴的方向（即项目的排列方向）<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>它可能有4个值。</p>
<ul>
<li>row（默认值）：主轴为水平方向，起点在左端。</li>
<li>row-reverse：主轴为水平方向，起点在右端。</li>
<li>column：主轴为垂直方向，起点在上沿。</li>
<li>column-reverse：主轴为垂直方向，起点在下沿。</li>
</ul>
<h2 id="3-2-flex-wrap属性"><a href="#3-2-flex-wrap属性" class="headerlink" title="3.2 flex-wrap属性"></a>3.2 flex-wrap属性</h2><p>默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>它可能取三个值。</p>
<ul>
<li>nowrap（默认）：不换行。</li>
<li>wrap：换行，第一行在上方。</li>
<li>wrap-reverse：换行，第一行在下方。</li>
</ul>
<h2 id="3-3-flex-flow"><a href="#3-3-flex-flow" class="headerlink" title="3.3 flex-flow"></a>3.3 flex-flow</h2><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">flex-flow</span>: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="3-4-justify-content属性"><a href="#3-4-justify-content属性" class="headerlink" title="3.4 justify-content属性"></a>3.4 justify-content属性</h2><p>justify-content属性定义了项目在主轴上的对齐方式。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">    <span class="attribute">justify-content</span>: flex-start | flex-end | center | space-between | space-around;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/image/bg2015071010.png">
<p>它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右。</p>
<ul>
<li>flex-start（默认值）：左对齐</li>
<li>flex-end：右对齐</li>
<li>center： 居中</li>
<li>space-between：两端对齐，项目之间的间隔都相等。</li>
<li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</li>
</ul>
<h2 id="3-5-align-items属性"><a href="#3-5-align-items属性" class="headerlink" title="3.5 align-items属性"></a>3.5 align-items属性</h2><p>align-items属性定义项目在交叉轴上如何对齐。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">    <span class="attribute">align-items</span>: flex-start | flex-end | center | baseline | stretch;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/image/bg2015071011.png">
<p>它可能取5个值。具体的对齐方式与交叉轴的方向有关，下面假设交叉轴从上到下。</p>
<ul>
<li>flex-start：交叉轴的起点对齐。</li>
<li>flex-end：交叉轴的终点对齐。</li>
<li>center：交叉轴的中点对齐。</li>
<li>baseline: 项目的第一行文字的基线对齐。</li>
<li>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。</li>
</ul>
<h2 id="3-6-align-content属性"><a href="#3-6-align-content属性" class="headerlink" title="3.6 align-content属性"></a>3.6 align-content属性</h2><p>align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">align-content</span>: flex-start | flex-end | center | space-between | space-around | stretch;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/image/bg2015071012.png">
<p>该属性可能取6个值。</p>
<ul>
<li>flex-start：与交叉轴的起点对齐。</li>
<li>flex-end：与交叉轴的终点对齐。</li>
<li>center：与交叉轴的中点对齐。</li>
<li>space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。</li>
<li>space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</li>
<li>stretch（默认值）：轴线占满整个交叉轴。</li>
</ul>
<h1 id="3-项目的属性"><a href="#3-项目的属性" class="headerlink" title="3. 项目的属性"></a>3. 项目的属性</h1><p>以下6个属性设置在项目上。</p>
<ul>
<li>order</li>
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex-basis</li>
<li>flex</li>
<li>align-self</li>
</ul>
<h2 id="4-1-order属性"><a href="#4-1-order属性" class="headerlink" title="4.1 order属性"></a>4.1 order属性</h2><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">  <span class="attribute">order</span>: &lt;integer&gt;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="4-2-flex-grow属性"><a href="#4-2-flex-grow属性" class="headerlink" title="4.2 flex-grow属性"></a>4.2 flex-grow属性</h2><p>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">  <span class="attribute">flex-grow</span>: &lt;number&gt;; <span class="comment">/* default 0 */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p>
<h2 id="4-3-flex-shrink属性"><a href="#4-3-flex-shrink属性" class="headerlink" title="4.3 flex-shrink属性"></a>4.3 flex-shrink属性</h2><p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">  <span class="attribute">flex-shrink</span>: &lt;number&gt;; <span class="comment">/* default 1 */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。<br>负值对该属性无效。</p>
<h2 id="4-4-flex-basis属性"><a href="#4-4-flex-basis属性" class="headerlink" title="4.4 flex-basis属性"></a>4.4 flex-basis属性</h2><p>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.item &#123;</div><div class="line">  flex-basis: &lt;length&gt; | auto; /* default auto */</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p>
<h2 id="4-5-flex属性"><a href="#4-5-flex属性" class="headerlink" title="4.5 flex属性"></a>4.5 flex属性</h2><p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">  <span class="attribute">flex</span>: none | [ &lt;<span class="string">'flex-grow'</span>&gt; &lt;<span class="string">'flex-shrink'</span>&gt;? || &lt;<span class="string">'flex-basis'</span>&gt; ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。<br>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
<h2 id="4-6-align-self属性"><a href="#4-6-align-self属性" class="headerlink" title="4.6 align-self属性"></a>4.6 align-self属性</h2><p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">  <span class="attribute">align-self</span>: auto | flex-start | flex-end | center | baseline | stretch;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>该属性可能取6个值，除了auto，其他都与align-items属性完全一致。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sunzhen086.github.io/content/CSS实现水平、垂直居中的8中方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunzhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/16077783?s=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙振的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/content/CSS实现水平、垂直居中的8中方法/" itemprop="url">
                  CSS实现水平、垂直居中的8中方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-07T17:09:30+08:00">
                2017-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="脱离文档流的居中"><a href="#脱离文档流的居中" class="headerlink" title="脱离文档流的居中"></a>脱离文档流的居中</h1><h3 id="margin-auto法"><a href="#margin-auto法" class="headerlink" title="margin:auto法"></a>margin:auto法</h3><p>我们经常用margin:0 auto来实现水平居中，而一直认为margin:auto不能实现垂直居中……实际上，实现垂直居中仅需要声明元素高度和下面的CSS:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span>&#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">400px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">400px</span>;</div><div class="line">      <span class="attribute">position</span>: relative;</div><div class="line">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#465468</span>;</div><div class="line"> &#125;</div><div class="line"><span class="selector-tag">img</span>&#123;</div><div class="line">      <span class="attribute">position</span>: absolute;</div><div class="line">      <span class="attribute">margin</span>: auto;</div><div class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">      <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">      <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<h3 id="负margin法"><a href="#负margin法" class="headerlink" title="负margin法"></a>负margin法</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span>&#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">500px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">400px</span>;</div><div class="line">      <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#379</span>;</div><div class="line">      <span class="attribute">position</span>: relative;</div><div class="line"> &#125;</div><div class="line"><span class="selector-class">.inner</span>&#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">480px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">380px</span>;</div><div class="line">      <span class="attribute">background-color</span>: <span class="number">#746</span>;</div><div class="line">      <span class="attribute">position</span>: absolute;</div><div class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;</div><div class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</div><div class="line">      <span class="attribute">margin-top</span>: -<span class="number">190px</span>; <span class="comment">/*height的一半*/</span></div><div class="line">      <span class="attribute">margin-left</span>: -<span class="number">240px</span>; <span class="comment">/*width的一半*/</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h1 id="未脱离文档流元素的居中"><a href="#未脱离文档流元素的居中" class="headerlink" title="未脱离文档流元素的居中"></a>未脱离文档流元素的居中</h1><h3 id="table-cell法"><a href="#table-cell法" class="headerlink" title="table-cell法"></a>table-cell法</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#555</span>;</div><div class="line">    <span class="attribute">display</span>: table-cell;</div><div class="line">    <span class="attribute">vertical-align</span>: middle;</div><div class="line">    <span class="attribute">text-align</span>: center;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">img</span>&#123;</div><div class="line">    <span class="attribute">vertical-align</span>: middle;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars3.githubusercontent.com/u/16077783?s=200"
               alt="sunzhen" />
          <p class="site-author-name" itemprop="name">sunzhen</p>
           
              <p class="site-description motion-element" itemprop="description"><i class="fa fa-github" style="font-size:20px"></i><br /> <a href="https://github.com/sunzhen086">github主页</a></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sunzhen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
